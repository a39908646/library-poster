import{d as A,h as o,al as U,ba as M,bb as _,a_ as K,aj as $,i as D,a4 as E,$ as H,C as W,U as J,u as q,a as G,w as N,r as y,b as Q,z as X,c as R,aJ as Y,f as B,bc as Z,t as ee,J as te,K as ne,L as j}from"./index-DXdFuH5K.js";import{i as se,c as ae,u as ie}from"./FormItem-jJsAIIqM.js";const le={tiny:"mini",small:"tiny",medium:"small",large:"medium",huge:"large"};function re(e){const i=le[e];if(i===void 0)throw new Error(`${e} has no smaller size.`);return i}const oe=A({name:"Add",render(){return o("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),ue=U({name:"DynamicTags",common:$,peers:{Input:se,Button:K,Tag:_,Space:M},self(){return{inputWidth:"64px"}}}),de=D("dynamic-tags",[D("input",{minWidth:"var(--n-input-width)"})]),ce=Object.assign(Object.assign(Object.assign({},N.props),Z),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:e=>e},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),he=A({name:"DynamicTags",props:ce,slots:Object,setup(e){const{mergedClsPrefixRef:i,inlineThemeDisabled:l}=q(e),{localeRef:m}=ie("DynamicTags"),g=G(e),{mergedDisabledRef:a}=g,p=y(""),h=y(!1),f=y(!0),C=y(null),w=N("DynamicTags","-dynamic-tags",de,ue,e,i),b=y(e.defaultValue),S=ee(e,"value"),u=Q(S,b),V=R(()=>m.value.add),O=R(()=>re(e.size)),x=R(()=>a.value||!!e.max&&u.value.length>=e.max);function k(t){const{onChange:n,"onUpdate:value":s,onUpdateValue:c}=e,{nTriggerFormInput:P,nTriggerFormChange:L}=g;n&&B(n,t),c&&B(c,t),s&&B(s,t),b.value=t,P(),L()}function T(t){const n=u.value.slice(0);n.splice(t,1),k(n)}function F(t){switch(t.key){case"Enter":d()}}function d(t){const n=t??p.value;if(n){const s=u.value.slice(0);s.push(e.onCreate(n)),k(s)}h.value=!1,f.value=!0,p.value=""}function z(){d()}function I(){h.value=!0,Y(()=>{var t;(t=C.value)===null||t===void 0||t.focus(),f.value=!1})}const v=R(()=>{const{self:{inputWidth:t}}=w.value;return{"--n-input-width":t}}),r=l?X("dynamic-tags",void 0,v,e):void 0;return{mergedClsPrefix:i,inputInstRef:C,localizedAdd:V,inputSize:O,inputValue:p,showInput:h,inputForceFocused:f,mergedValue:u,mergedDisabled:a,triggerDisabled:x,handleInputKeyDown:F,handleAddClick:I,handleInputBlur:z,handleCloseClick:T,handleInputConfirm:d,mergedTheme:w,cssVars:l?void 0:v,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){const{mergedTheme:e,cssVars:i,mergedClsPrefix:l,onRender:m,renderTag:g}=this;return m==null||m(),o(J,{class:[`${l}-dynamic-tags`,this.themeClass],size:"small",style:i,theme:e.peers.Space,themeOverrides:e.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{const{mergedTheme:a,tagClass:p,tagStyle:h,type:f,round:C,size:w,color:b,closable:S,mergedDisabled:u,showInput:V,inputValue:O,inputClass:x,inputStyle:k,inputSize:T,inputForceFocused:F,triggerDisabled:d,handleInputKeyDown:z,handleInputBlur:I,handleAddClick:v,handleCloseClick:r,handleInputConfirm:t,$slots:n}=this;return this.mergedValue.map((s,c)=>g?g(s,c):o(E,{key:c,theme:a.peers.Tag,themeOverrides:a.peerOverrides.Tag,class:p,style:h,type:f,round:C,size:w,color:b,closable:S,disabled:u,onClose:()=>{r(c)}},{default:()=>typeof s=="string"?s:s.label})).concat(V?n.input?n.input({submit:t,deactivate:I}):o(ae,Object.assign({placeholder:"",size:T,style:k,class:x,autosize:!0},this.inputProps,{ref:"inputInstRef",value:O,onUpdateValue:s=>{this.inputValue=s},theme:a.peers.Input,themeOverrides:a.peerOverrides.Input,onKeydown:z,onBlur:I,internalForceFocus:F})):n.trigger?n.trigger({activate:v,disabled:d}):o(H,{dashed:!0,disabled:d,theme:a.peers.Button,themeOverrides:a.peerOverrides.Button,size:T,onClick:v},{icon:()=>o(W,{clsPrefix:l},{default:()=>o(oe,null)})}))}})}}),me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},fe=A({name:"AddOutline",render:function(i,l){return te(),ne("svg",me,l[0]||(l[0]=[j("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),j("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1)]))}});export{fe as A,he as N,oe as a};
