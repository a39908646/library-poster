import{x as tl,c as D,aI as nl,d as Ie,h as x,aq as ze,g as Q,j as _e,k as Re,l as al,u as Fe,I as De,aA as oe,z as ie,C as rl,r as k,t as Ce,aJ as ul,aK as ol,s as Se,a as il,b as sl,y as z,B as dl,aw as ke,P as je,aL as Ve,f as H,aD as fl,w as Be,aM as cl,a2 as F,a3 as o,a4 as n,a6 as pe,Z as U,a7 as r,a5 as ne,a8 as ml,ab as ae,ac as S,a9 as be,_ as vl,ae as hl,af as pl,ah as ge,$ as y,ag as bl}from"./index-BZvRV0hf.js";import{a as gl,A as yl}from"./AddOutline-BSdGMRE3.js";import{N as ye}from"./Divider-D3XDjjRc.js";import{i as wl,c as V,u as xl,a as W,b as g,N as Nl}from"./FormItem-T9kAcPTf.js";import{N as _l,a as Cl,R as Il}from"./RefreshOutline-DtB_KKsC.js";import{N as $l,a as re,b as Oe,c as Rl,S as Sl}from"./SaveOutline-hsNit-HS.js";import{u as kl}from"./use-message-B96cpKcV.js";import{N as jl}from"./Spin-CUfhFxuX.js";import{N as Te}from"./Select-D-vyXFA8.js";import{N as Vl}from"./DynamicTags-D7C3Hm57.js";function Bl(e,a){const c=tl(nl,null);return D(()=>e.hljs||(c==null?void 0:c.mergedHljsRef.value))}const Ol=Ie({name:"Remove",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},x("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}});function Tl(e){const{textColor2:a,fontSize:c,fontWeightStrong:w,textColor3:u}=e;return{textColor:a,fontSize:c,fontWeightStrong:w,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:u}}const Ul={common:ze,self:Tl},Ml=Q([_e("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[Re("show-line-numbers",`
 display: flex;
 `),al("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),Re("word-wrap",[Q("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),Q("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),Q("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:e})=>{const a=`${e.bPrefix}code`;return[`${a} .hljs-comment,
 ${a} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${a} .hljs-doctag,
 ${a} .hljs-keyword,
 ${a} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${a} .hljs-section,
 ${a} .hljs-name,
 ${a} .hljs-selector-tag,
 ${a} .hljs-deletion,
 ${a} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${a} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${a} .hljs-string,
 ${a} .hljs-regexp,
 ${a} .hljs-addition,
 ${a} .hljs-attribute,
 ${a} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${a} .hljs-built_in,
 ${a} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${a} .hljs-attr,
 ${a} .hljs-variable,
 ${a} .hljs-template-variable,
 ${a} .hljs-type,
 ${a} .hljs-selector-class,
 ${a} .hljs-selector-attr,
 ${a} .hljs-selector-pseudo,
 ${a} .hljs-number {
 color: var(--n-hue-6);
 }`,`${a} .hljs-symbol,
 ${a} .hljs-bullet,
 ${a} .hljs-link,
 ${a} .hljs-meta,
 ${a} .hljs-selector-id,
 ${a} .hljs-title {
 color: var(--n-hue-2);
 }`,`${a} .hljs-emphasis {
 font-style: italic;
 }`,`${a} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${a} .hljs-link {
 text-decoration: underline;
 }`]}]),Pl=Object.assign(Object.assign({},ie.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),we=Ie({name:"Code",props:Pl,setup(e,{slots:a}){const{internalNoHighlight:c}=e,{mergedClsPrefixRef:w,inlineThemeDisabled:u}=Fe(),p=k(null),I=c?{value:void 0}:Bl(e),J=(v,f,t)=>{const{value:i}=I;return!i||!(v&&i.getLanguage(v))?null:i.highlight(t?f.trim():f,{language:v}).value},G=D(()=>e.inline||e.wordWrap?!1:e.showLineNumbers),B=()=>{if(a.default)return;const{value:v}=p;if(!v)return;const{language:f}=e,t=e.uri?window.decodeURIComponent(e.code):e.code;if(f){const m=J(f,t,e.trim);if(m!==null){if(e.inline)v.innerHTML=m;else{const $=v.querySelector(".__code__");$&&v.removeChild($);const b=document.createElement("pre");b.className="__code__",b.innerHTML=m,v.appendChild(b)}return}}if(e.inline){v.textContent=t;return}const i=v.querySelector(".__code__");if(i)i.textContent=t;else{const m=document.createElement("pre");m.className="__code__",m.textContent=t,v.innerHTML="",v.appendChild(m)}};De(B),oe(Ce(e,"language"),B),oe(Ce(e,"code"),B),c||oe(I,B);const N=ie("Code","-code",Ml,Ul,e,w),M=D(()=>{const{common:{cubicBezierEaseInOut:v,fontFamilyMono:f},self:{textColor:t,fontSize:i,fontWeightStrong:m,lineNumberTextColor:$,"mono-3":b,"hue-1":A,"hue-2":Y,"hue-3":ee,"hue-4":O,"hue-5":P,"hue-5-2":C,"hue-6":se,"hue-6-2":K}}=N.value,{internalFontSize:E}=e;return{"--n-font-size":E?`${E}px`:i,"--n-font-family":f,"--n-font-weight-strong":m,"--n-bezier":v,"--n-text-color":t,"--n-mono-3":b,"--n-hue-1":A,"--n-hue-2":Y,"--n-hue-3":ee,"--n-hue-4":O,"--n-hue-5":P,"--n-hue-5-2":C,"--n-hue-6":se,"--n-hue-6-2":K,"--n-line-number-text-color":$}}),_=u?rl("code",D(()=>`${e.internalFontSize||"a"}`),M,e):void 0;return{mergedClsPrefix:w,codeRef:p,mergedShowLineNumbers:G,lineNumbers:D(()=>{let v=1;const f=[];let t=!1;for(const i of e.code)i===`
`?(t=!0,f.push(v++)):t=!1;return t||f.push(v++),f.join(`
`)}),cssVars:u?void 0:M,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){var e,a;const{mergedClsPrefix:c,wordWrap:w,mergedShowLineNumbers:u,onRender:p}=this;return p==null||p(),x("code",{class:[`${c}-code`,this.themeClass,w&&`${c}-code--word-wrap`,u&&`${c}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},u?x("pre",{class:`${c}-code__line-numbers`},this.lineNumbers):null,(a=(e=this.$slots).default)===null||a===void 0?void 0:a.call(e))}});function zl(e){const{textColorDisabled:a}=e;return{iconColorDisabled:a}}const Fl=ul({name:"InputNumber",common:ze,peers:{Button:ol,Input:wl},self:zl}),Dl=Q([_e("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),_e("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]);function Al(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function El(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^-?\d*$/.test(e))||e==="-"||e==="-0"}function xe(e){return e==null?!0:!Number.isNaN(e)}function Ue(e,a){return typeof e!="number"?"":a===void 0?String(e):e.toFixed(a)}function Ne(e){if(e===null)return null;if(typeof e=="number")return e;{const a=Number(e);return Number.isNaN(a)?null:a}}const Me=800,Pe=100,Ll=Object.assign(Object.assign({},ie.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},round:{type:Boolean,default:void 0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),ue=Ie({name:"InputNumber",props:Ll,slots:Object,setup(e){const{mergedBorderedRef:a,mergedClsPrefixRef:c,mergedRtlRef:w}=Fe(e),u=ie("InputNumber","-input-number",Dl,Fl,e,c),{localeRef:p}=xl("InputNumber"),I=il(e),{mergedSizeRef:J,mergedDisabledRef:G,mergedStatusRef:B}=I,N=k(null),M=k(null),_=k(null),v=k(e.defaultValue),f=Ce(e,"value"),t=sl(f,v),i=k(""),m=l=>{const s=String(l).split(".")[1];return s?s.length:0},$=l=>{const s=[e.min,e.max,e.step,l].map(d=>d===void 0?0:m(d));return Math.max(...s)},b=z(()=>{const{placeholder:l}=e;return l!==void 0?l:p.value.placeholder}),A=z(()=>{const l=Ne(e.step);return l!==null?l===0?1:Math.abs(l):1}),Y=z(()=>{const l=Ne(e.min);return l!==null?l:null}),ee=z(()=>{const l=Ne(e.max);return l!==null?l:null}),O=()=>{const{value:l}=t;if(xe(l)){const{format:s,precision:d}=e;s?i.value=s(l):l===null||d===void 0||m(l)>d?i.value=Ue(l,void 0):i.value=Ue(l,d)}else i.value=String(l)};O();const P=l=>{const{value:s}=t;if(l===s){O();return}const{"onUpdate:value":d,onUpdateValue:h,onChange:R}=e,{nTriggerFormInput:j,nTriggerFormChange:L}=I;R&&H(R,l),h&&H(h,l),d&&H(d,l),v.value=l,j(),L()},C=({offset:l,doUpdateIfValid:s,fixPrecision:d,isInputing:h})=>{const{value:R}=i;if(h&&El(R))return!1;const j=(e.parse||Al)(R);if(j===null)return s&&P(null),null;if(xe(j)){const L=m(j),{precision:Z}=e;if(Z!==void 0&&Z<L&&!d)return!1;let T=Number.parseFloat((j+l).toFixed(Z??$(j)));if(xe(T)){const{value:ve}=ee,{value:he}=Y;if(ve!==null&&T>ve){if(!s||h)return!1;T=ve}if(he!==null&&T<he){if(!s||h)return!1;T=he}return e.validator&&!e.validator(T)?!1:(s&&P(T),T)}}return!1},se=z(()=>C({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),K=z(()=>{const{value:l}=t;if(e.validator&&l===null)return!1;const{value:s}=A;return C({offset:-s,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),E=z(()=>{const{value:l}=t;if(e.validator&&l===null)return!1;const{value:s}=A;return C({offset:+s,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function Ae(l){const{onFocus:s}=e,{nTriggerFormFocus:d}=I;s&&H(s,l),d()}function Ee(l){var s,d;if(l.target===((s=N.value)===null||s===void 0?void 0:s.wrapperElRef))return;const h=C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(h!==!1){const L=(d=N.value)===null||d===void 0?void 0:d.inputElRef;L&&(L.value=String(h||"")),t.value===h&&O()}else O();const{onBlur:R}=e,{nTriggerFormBlur:j}=I;R&&H(R,l),j(),fl(()=>{O()})}function Le(l){const{onClear:s}=e;s&&H(s,l)}function de(){const{value:l}=E;if(!l){me();return}const{value:s}=t;if(s===null)e.validator||P($e());else{const{value:d}=A;C({offset:d,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function fe(){const{value:l}=K;if(!l){ce();return}const{value:s}=t;if(s===null)e.validator||P($e());else{const{value:d}=A;C({offset:-d,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const He=Ae,We=Ee;function $e(){if(e.validator)return null;const{value:l}=Y,{value:s}=ee;return l!==null?Math.max(0,l):s!==null?Math.min(0,s):0}function Je(l){Le(l),P(null)}function Ge(l){var s,d,h;!((s=_.value)===null||s===void 0)&&s.$el.contains(l.target)&&l.preventDefault(),!((d=M.value)===null||d===void 0)&&d.$el.contains(l.target)&&l.preventDefault(),(h=N.value)===null||h===void 0||h.activate()}let q=null,X=null,le=null;function ce(){le&&(window.clearTimeout(le),le=null),q&&(window.clearInterval(q),q=null)}let te=null;function me(){te&&(window.clearTimeout(te),te=null),X&&(window.clearInterval(X),X=null)}function Ke(){ce(),le=window.setTimeout(()=>{q=window.setInterval(()=>{fe()},Pe)},Me),Be("mouseup",document,ce,{once:!0})}function qe(){me(),te=window.setTimeout(()=>{X=window.setInterval(()=>{de()},Pe)},Me),Be("mouseup",document,me,{once:!0})}const Xe=()=>{X||de()},Ze=()=>{q||fe()};function Qe(l){var s,d;if(l.key==="Enter"){if(l.target===((s=N.value)===null||s===void 0?void 0:s.wrapperElRef))return;C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((d=N.value)===null||d===void 0||d.deactivate())}else if(l.key==="ArrowUp"){if(!E.value||e.keyboard.ArrowUp===!1)return;l.preventDefault(),C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&de()}else if(l.key==="ArrowDown"){if(!K.value||e.keyboard.ArrowDown===!1)return;l.preventDefault(),C({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&fe()}}function Ye(l){i.value=l,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&C({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}oe(t,()=>{O()});const el={focus:()=>{var l;return(l=N.value)===null||l===void 0?void 0:l.focus()},blur:()=>{var l;return(l=N.value)===null||l===void 0?void 0:l.blur()},select:()=>{var l;return(l=N.value)===null||l===void 0?void 0:l.select()}},ll=dl("InputNumber",w,c);return Object.assign(Object.assign({},el),{rtlEnabled:ll,inputInstRef:N,minusButtonInstRef:M,addButtonInstRef:_,mergedClsPrefix:c,mergedBordered:a,uncontrolledValue:v,mergedValue:t,mergedPlaceholder:b,displayedValueInvalid:se,mergedSize:J,mergedDisabled:G,displayedValue:i,addable:E,minusable:K,mergedStatus:B,handleFocus:He,handleBlur:We,handleClear:Je,handleMouseDown:Ge,handleAddClick:Xe,handleMinusClick:Ze,handleAddMousedown:qe,handleMinusMousedown:Ke,handleKeyDown:Qe,handleUpdateDisplayedValue:Ye,mergedTheme:u,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:D(()=>{const{self:{iconColorDisabled:l}}=u.value,[s,d,h,R]=cl(l);return{textColorTextDisabled:`rgb(${s}, ${d}, ${h})`,opacityDisabled:`${R}`}})})},render(){const{mergedClsPrefix:e,$slots:a}=this,c=()=>x(Ve,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>ke(a["minus-icon"],()=>[x(je,{clsPrefix:e},{default:()=>x(Ol,null)})])}),w=()=>x(Ve,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>ke(a["add-icon"],()=>[x(je,{clsPrefix:e},{default:()=>x(gl,null)})])});return x("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},x(V,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,round:this.round,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var u;return this.showButton&&this.buttonPlacement==="both"?[c(),Se(a.prefix,p=>p?x("span",{class:`${e}-input-number-prefix`},p):null)]:(u=a.prefix)===null||u===void 0?void 0:u.call(a)},suffix:()=>{var u;return this.showButton?[Se(a.suffix,p=>p?x("span",{class:`${e}-input-number-suffix`},p):null),this.buttonPlacement==="right"?c():null,w()]:(u=a.suffix)===null||u===void 0?void 0:u.call(a)}}))}}),et={__name:"Config",setup(e){const a=kl(),c=k(!1),w=k(!1),u=k(B()),p=k(null),I=D(()=>JSON.stringify(u.value)!==JSON.stringify(p.value)),J=[{label:"DEBUG",value:"DEBUG"},{label:"INFO",value:"INFO"},{label:"WARNING",value:"WARNING"},{label:"ERROR",value:"ERROR"}],G=[{label:"Emby",value:"emby"},{label:"Jellyfin",value:"jellyfin"}];function B(){return{app:{timezone:"Asia/Shanghai",data_dir:"./data",log_level:"INFO"},servers:[],cover:{style:"single_1",sort_by:"Random",save_to_local:!1,output_dir:"covers_output",custom_images_dir:""},fonts:{main:{zh_url:"",en_url:"",zh_local:"",en_local:"",zh_size:1,en_size:1},multi_1:{zh_url:"",en_url:"",zh_local:"",en_local:"",zh_size:1,en_size:1,use_main_font:!1}},style_params:{single:{blur_size:50,color_ratio:.8,use_primary:!1},multi_1:{blur:!1,blur_size:50,color_ratio:.8,use_primary:!0}},titles:{},scheduler:{enabled:!1,cron:"0 2 * * *"},webhook:{enabled:!0,delay:60},network:{proxy:"",github_proxy:"",timeout:30,retries:3},performance:{max_concurrent:3}}}function N(){u.value.servers||(u.value.servers=[]),u.value.servers.push({name:"",type:"emby",url:"",api_key:"",exclude_libraries:[]})}function M(f){u.value.servers.splice(f,1)}async function _(){c.value=!0;try{const f=await pe.getFullConfig();u.value=JSON.parse(JSON.stringify(f)),p.value=JSON.parse(JSON.stringify(f))}catch(f){a.error("加载配置失败: "+f.message)}finally{c.value=!1}}async function v(){w.value=!0;try{const f=await pe.validateConfig(u.value);if(!f.valid){a.error("配置校验失败: "+f.errors.join(", "));return}await pe.saveConfig(u.value),a.success("配置已保存并生效"),p.value=JSON.parse(JSON.stringify(u.value))}catch(f){a.error("保存配置失败: "+f.message)}finally{w.value=!1}}return De(()=>{_()}),(f,t)=>(U(),F(n(jl),{show:c.value},{default:o(()=>[r(n(ne),{vertical:"",size:16},{default:o(()=>[r(n(ml),null,{header:o(()=>[r(n(ne),{justify:"space-between",align:"center"},{default:o(()=>[t[15]||(t[15]=y("span",null,"配置管理",-1)),r(n(ne),null,{default:o(()=>[I.value?(U(),F(n(bl),{key:0,type:"warning"},{default:o(()=>[...t[12]||(t[12]=[S("有未保存的更改",-1)])]),_:1})):ge("",!0),r(n(ae),{onClick:_,loading:c.value},{icon:o(()=>[r(n(be),{component:n(Il)},null,8,["component"])]),default:o(()=>[t[13]||(t[13]=S(" 刷新 ",-1))]),_:1},8,["loading"]),r(n(ae),{type:"primary",onClick:v,loading:w.value,disabled:!I.value},{icon:o(()=>[r(n(be),{component:n(Sl)},null,8,["component"])]),default:o(()=>[t[14]||(t[14]=S(" 保存配置 ",-1))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),default:o(()=>[r(n($l),{type:"line",animated:""},{default:o(()=>[r(n(re),{name:"app",tab:"应用设置"},{default:o(()=>[r(n(W),{"label-placement":"left","label-width":"120"},{default:o(()=>[r(n(g),{label:"时区"},{default:o(()=>[r(n(V),{value:u.value.app.timezone,"onUpdate:value":t[0]||(t[0]=i=>u.value.app.timezone=i),placeholder:"Asia/Shanghai"},null,8,["value"])]),_:1}),r(n(g),{label:"数据目录"},{default:o(()=>[r(n(V),{value:u.value.app.data_dir,"onUpdate:value":t[1]||(t[1]=i=>u.value.app.data_dir=i),placeholder:"./data"},null,8,["value"])]),_:1}),r(n(g),{label:"日志级别"},{default:o(()=>[r(n(Te),{value:u.value.app.log_level,"onUpdate:value":t[2]||(t[2]=i=>u.value.app.log_level=i),options:J},null,8,["value"])]),_:1})]),_:1})]),_:1}),r(n(re),{name:"servers",tab:"服务器"},{default:o(()=>[r(n(ne),{vertical:"",size:16},{default:o(()=>{var i;return[r(n(ae),{onClick:N,type:"primary",dashed:""},{icon:o(()=>[r(n(be),{component:n(yl)},null,8,["component"])]),default:o(()=>[t[16]||(t[16]=S(" 添加服务器 ",-1))]),_:1}),(i=u.value.servers)!=null&&i.length?(U(),F(n(_l),{key:0},{default:o(()=>[(U(!0),vl(hl,null,pl(u.value.servers,(m,$)=>(U(),F(n(Cl),{key:$,title:m.name||"新服务器",name:$},{default:o(()=>[r(n(W),{"label-placement":"left","label-width":"100"},{default:o(()=>[r(n(g),{label:"名称"},{default:o(()=>[r(n(V),{value:m.name,"onUpdate:value":b=>m.name=b,placeholder:"我的服务器"},null,8,["value","onUpdate:value"])]),_:2},1024),r(n(g),{label:"类型"},{default:o(()=>[r(n(Te),{value:m.type,"onUpdate:value":b=>m.type=b,options:G},null,8,["value","onUpdate:value"])]),_:2},1024),r(n(g),{label:"URL"},{default:o(()=>[r(n(V),{value:m.url,"onUpdate:value":b=>m.url=b,placeholder:"http://localhost:8096"},null,8,["value","onUpdate:value"])]),_:2},1024),r(n(g),{label:"API Key"},{default:o(()=>[r(n(V),{value:m.api_key,"onUpdate:value":b=>m.api_key=b,type:"password","show-password-on":"click",placeholder:"留空不修改"},null,8,["value","onUpdate:value"])]),_:2},1024),r(n(g),{label:"排除媒体库"},{default:o(()=>[r(n(Vl),{value:m.exclude_libraries,"onUpdate:value":b=>m.exclude_libraries=b},null,8,["value","onUpdate:value"])]),_:2},1024),r(n(g),null,{default:o(()=>[r(n(ae),{type:"error",onClick:b=>M($)},{default:o(()=>[...t[17]||(t[17]=[S("删除此服务器",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1})):(U(),F(n(Nl),{key:1,description:"暂无服务器配置"}))]}),_:1})]),_:1}),r(n(re),{name:"scheduler",tab:"定时任务"},{default:o(()=>[r(n(W),{"label-placement":"left","label-width":"120"},{default:o(()=>[r(n(g),{label:"启用定时任务"},{default:o(()=>[r(n(Oe),{value:u.value.scheduler.enabled,"onUpdate:value":t[3]||(t[3]=i=>u.value.scheduler.enabled=i)},null,8,["value"])]),_:1}),u.value.scheduler.enabled?(U(),F(n(g),{key:0,label:"Cron 表达式"},{default:o(()=>[r(n(V),{value:u.value.scheduler.cron,"onUpdate:value":t[4]||(t[4]=i=>u.value.scheduler.cron=i),placeholder:"0 2 * * *"},null,8,["value"])]),_:1})):ge("",!0)]),_:1}),r(n(ye),{"title-placement":"left"},{default:o(()=>[...t[18]||(t[18]=[S("Webhook",-1)])]),_:1}),r(n(W),{"label-placement":"left","label-width":"120"},{default:o(()=>[r(n(g),{label:"启用 Webhook"},{default:o(()=>[r(n(Oe),{value:u.value.webhook.enabled,"onUpdate:value":t[5]||(t[5]=i=>u.value.webhook.enabled=i)},null,8,["value"])]),_:1}),u.value.webhook.enabled?(U(),F(n(g),{key:0,label:"延迟时间（秒）"},{default:o(()=>[r(n(ue),{value:u.value.webhook.delay,"onUpdate:value":t[6]||(t[6]=i=>u.value.webhook.delay=i),min:0,max:600},null,8,["value"])]),_:1})):ge("",!0)]),_:1}),r(n(ye)),r(n(Rl),{bordered:!1,"single-line":!1,size:"small"},{default:o(()=>[t[25]||(t[25]=y("thead",null,[y("tr",null,[y("th",null,"表达式"),y("th",null,"说明")])],-1)),y("tbody",null,[y("tr",null,[y("td",null,[r(n(we),null,{default:o(()=>[...t[19]||(t[19]=[S("0 2 * * *",-1)])]),_:1})]),t[20]||(t[20]=y("td",null,"每天凌晨 2 点",-1))]),y("tr",null,[y("td",null,[r(n(we),null,{default:o(()=>[...t[21]||(t[21]=[S("0 */6 * * *",-1)])]),_:1})]),t[22]||(t[22]=y("td",null,"每 6 小时",-1))]),y("tr",null,[y("td",null,[r(n(we),null,{default:o(()=>[...t[23]||(t[23]=[S("0 0 * * 0",-1)])]),_:1})]),t[24]||(t[24]=y("td",null,"每周日凌晨",-1))])])]),_:1})]),_:1}),r(n(re),{name:"network",tab:"网络"},{default:o(()=>[r(n(W),{"label-placement":"left","label-width":"120"},{default:o(()=>[r(n(g),{label:"HTTP 代理"},{default:o(()=>[r(n(V),{value:u.value.network.proxy,"onUpdate:value":t[7]||(t[7]=i=>u.value.network.proxy=i),placeholder:"留空不使用"},null,8,["value"])]),_:1}),r(n(g),{label:"GitHub 代理"},{default:o(()=>[r(n(V),{value:u.value.network.github_proxy,"onUpdate:value":t[8]||(t[8]=i=>u.value.network.github_proxy=i),placeholder:"用于下载字体"},null,8,["value"])]),_:1}),r(n(g),{label:"超时时间（秒）"},{default:o(()=>[r(n(ue),{value:u.value.network.timeout,"onUpdate:value":t[9]||(t[9]=i=>u.value.network.timeout=i),min:5,max:300},null,8,["value"])]),_:1}),r(n(g),{label:"重试次数"},{default:o(()=>[r(n(ue),{value:u.value.network.retries,"onUpdate:value":t[10]||(t[10]=i=>u.value.network.retries=i),min:0,max:10},null,8,["value"])]),_:1})]),_:1}),r(n(ye),{"title-placement":"left"},{default:o(()=>[...t[26]||(t[26]=[S("性能",-1)])]),_:1}),r(n(W),{"label-placement":"left","label-width":"120"},{default:o(()=>[r(n(g),{label:"最大并发数"},{default:o(()=>[r(n(ue),{value:u.value.performance.max_concurrent,"onUpdate:value":t[11]||(t[11]=i=>u.value.performance.max_concurrent=i),min:1,max:10},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]))}};export{et as default};
